<?xml version="1.0" encoding="UTF-8"?>
<includes>

    <include name="Furniture_Top">
        <include>Furniture_Top_Left</include>
    </include>

    <include name="Furniture_Top_Left">
        <param name="enabled">true</param>
        <param name="id" />
        <param name="label">[CAPITALIZE]$VAR[Label_Header_Main][/CAPITALIZE]</param>
        <param name="textcolor">main_fg_100</param>
        <param name="textcolor_sublabel">main_fg_70</param>
        <param name="shadowcolor_sublabel">main_bg_30</param>
        <definition>
            <include content="_Furniture_Top_Left" condition="$PARAM[enabled]">
                <param name="id">$PARAM[id]</param>
                <param name="label">$PARAM[label]</param>
                <param name="textcolor">$PARAM[textcolor]</param>
                <param name="textcolor_sublabel">$PARAM[textcolor_sublabel]</param>
                <param name="shadowcolor_sublabel">$PARAM[shadowcolor_sublabel]</param>
                <param name="clock">$PARAM[clock]</param>
            </include>
        </definition>
    </include>
    <include name="_Furniture_Top_Left">
        <control type="group">
            <include>Dimension_Topbar</include>
            <control type="group">
                <include>Dimension_Furniture_Gutters</include>
                <include content="Furniture_MainLabel">
                    <param name="id">$PARAM[id]</param>
                    <param name="textcolor">$PARAM[textcolor]</param>
                    <param name="label">$PARAM[label]</param>
                </include>
            </control>
        </control>
    </include>

    <include name="Furniture_Bottom_Right">
        <param name="visible">true</param>
        <definition>
            <control type="group">
                <include>Dimension_Bottombar</include>
                <control type="group">
                    <include>Dimension_Furniture_Gutters</include>
                    <control type="group">
                        <visible>$PARAM[visible]</visible>
                        <control type="group">
                            <visible>!Player.HasMedia | !Skin.HasSetting(Furniture.EnableNowPlaying) | $EXP[Exp_PlainBackgroundWindows]</visible>
                            <include condition="!Skin.HasSetting(Furniture.EnableClock) + !Skin.HasSetting(Furniture.DisableStudio)">Info_Bottom_Right</include>
                        </control>
                        <control type="group">
                            <visible>!Player.HasMedia | !Skin.HasSetting(Furniture.EnableNowPlaying) | $EXP[Exp_PlainBackgroundWindows]</visible>
                            <include content="Furniture_Clock" condition="Skin.HasSetting(Furniture.EnableClock)">
                                <param name="textcolor">$PARAM[textcolor]</param>
                                <param name="textcolor_sublabel">$PARAM[textcolor_sublabel]</param>
                                <param name="shadowcolor">$PARAM[shadowcolor_sublabel]</param>
                                <param name="shadowcolor_sublabel">$PARAM[shadowcolor_sublabel]</param>
                            </include>
                        </control>
                        <include content="Object_Control" condition="Skin.HasSetting(Furniture.EnableNowPlaying)">
                            <param name="control">group</param>
                            <centerbottom>30</centerbottom>
                            <height>40</height>
                            <visible>Player.HasMedia</visible>
                            <visible>!$EXP[Exp_PlainBackgroundWindows]</visible>
                            <control type="grouplist">
                                <right>0</right>
                                <orientation>horizontal</orientation>
                                <align>right</align>
                                <itemgap>0</itemgap>

                                <control type="label">
                                    <textcolor>main_fg_30</textcolor>
                                    <width max="400">auto</width>
                                    <font>font_main_bold</font>
                                    <!-- <height>20</height>
                                    <top>-4</top>
                                    <align>right</align>
                                    <right>48</right>
                                    <width>320</width>
                                    <font>font_mini_bold</font> -->
                                    <label>$VAR[Label_NowPlayingSubLabel,, - ]</label>
                                </control>
                                <control type="label">
                                    <textcolor>main_fg_30</textcolor>
                                    <width max="400">auto</width>
                                    <font>font_main_bold</font>
                                    <!-- <align>right</align>
                                    <right>48</right>
                                    <width>320</width>
                                    <height>20</height>
                                    <bottom>-2</bottom>
                                    <font>font_tiny</font> -->
                                    <label>$VAR[Label_NowPlayingTitle]</label>
                                </control>
                                <control type="label">
                                    <width>auto</width>
                                    <font>font_main_bold</font>
                                    <!-- <font>font_tiny_bold</font> -->
                                    <textcolor>00ffffff</textcolor>
                                    <label> ---</label>
                                </control>

                                <control type="multiimage">
                                    <right>0</right>
                                    <width>28</width>
                                    <height>34</height>
                                    <timeperimage>50</timeperimage>
                                    <fadetime>50</fadetime>
                                    <imagepath>eq/</imagepath>
                                    <colordiffuse>main_fg_30</colordiffuse>
                                    <aspectratio scalediffuse="false">keep</aspectratio>
                                    <visible>Player.Playing</visible>
                                </control>
                                <control type="multiimage">
                                    <right>0</right>
                                    <width>28</width>
                                    <height>34</height>
                                    <timeperimage>5000000</timeperimage>
                                    <fadetime>50</fadetime>
                                    <imagepath>eq/</imagepath>
                                    <colordiffuse>main_fg_30</colordiffuse>
                                    <aspectratio scalediffuse="false">keep</aspectratio>
                                    <visible>!Player.Playing</visible>
                                </control>

                            </control>
                        </include>
                    </control>
                </control>
            </control>
        </definition>
    </include>

    <include name="Furniture_Bottom_Left">
        <param name="enabled">true</param>
        <definition>
            <include content="_Furniture_Bottom_Left" condition="$PARAM[enabled]">
                <param name="container">$PARAM[container]</param>
            </include>
        </definition>
    </include>
    <include name="_Furniture_Bottom_Left">
        <control type="group">
            <include>Dimension_Bottombar</include>
            <control type="group">
                <include>Dimension_Furniture_Gutters</include>
                <include content="View_Furniture_Bottom_ViewLine" condition="Window.IsMedia + !Window.IsVisible(addonbrowser) + !Window.IsVisible(eventlog) + !Window.IsVisible(MyMusicPlaylistEditor.xml)">
                    <param name="visible">true</param>
                    <param name="label">$INFO[Container.NumItems,, $LOCALIZE[31022]]</param>
                </include>
                <include content="View_Furniture_Bottom_ViewLine" condition="$EXP[Exp_PlainBackgroundWindows]">
                    <param name="visible">true</param>
                    <param name="label">$VAR[Label_ProfileName]</param>
                </include>
            </control>
        </control>
    </include>

    <include name="Furniture_Bottom">
        <include>Furniture_Bottom_Left</include>
        <include>Furniture_Bottom_Right</include>
    </include>

    <include name="Furniture_MainLabel">
        <param name="id" />
        <param name="textcolor">main_fg_100</param>
        <param name="width">auto</param>
        <param name="visible">true</param>
        <definition>
            <control type="label" id="$PARAM[id]">
                <label>$PARAM[label]</label>
                <font>font_midi_bold</font>
                <textcolor>$PARAM[textcolor]</textcolor>
                <width max="$PARAM[max]">$PARAM[width]</width>
                <height>40</height>
                <centertop>50%</centertop>
                <visible>$PARAM[visible]</visible>
            </control>
        </definition>
    </include>

    <include name="Furniture_Busy_Spinner">
        <control type="image">
            <bordersize>-4</bordersize>
            <include content="Defs_BusySpinner_Image">
                <param name="spinspinner">$PARAM[spinspinner]</param>
            </include>
        </control>
    </include>

    <include name="Furniture_Busy_Icon">
        <param name="hasspinner">false</param>
        <param name="hasprogress">false</param>
        <param name="hasicon">true</param>
        <param name="icon">special://skin/extras/icons/kodi.png</param>
        <param name="spinspinner">false</param>
        <param name="spinnervisible">true</param>
        <param name="flipspinner">true</param>
        <param name="flipped">false</param>
        <param name="visible">true</param>
        <definition>
            <control type="group">
                <description>Busy animation</description>
                <width>50</width>
                <height>50</height>
                <centertop>50%</centertop>

                <visible>$PARAM[visible]</visible>

                <include content="Object_Left" condition="![$PARAM[flipped]]">
                    <param name="left">15</param>
                </include>
                <include content="Object_Right" condition="$PARAM[flipped]">
                    <param name="right">15</param>
                </include>

                <control type="group">
                    <include content="Info_FooterItemIcon" condition="$PARAM[hasicon]">
                        <param name="icon">$PARAM[icon]</param>
                        <param name="centered">true</param>
                        <param name="size">50</param>
                    </include>
                    <control type="group">
                        <centerleft>50%</centerleft>
                        <centertop>50%</centertop>
                        <width>100</width>
                        <height>100</height>
                        <visible>$PARAM[spinnervisible]</visible>
                        <include content="Furniture_Busy_Spinner" condition="$PARAM[hasspinner]">
                            <param name="spinspinner">$PARAM[spinspinner]</param>
                        </include>
                        <include content="Object_Control" condition="$PARAM[hasprogress]">
                            <param name="control">group</param>
                            <description>Busy animation</description>
                            <animation effect="rotate" condition="$PARAM[spinspinner]" start="0" end="-360" loop="true" time="2000" center="auto">Conditional</animation>
                            <description>Busy animation</description>
                            <control type="image">
                                <bordersize>-4</bordersize>
                                <texture colordiffuse="$VAR[ColorHighlight]" flipx="$PARAM[flipspinner]" flipy="$PARAM[flipspinner]">$INFO[$PARAM[progress],progress/circle/p,.png]</texture>
                                <aspectratio align="center" aligny="center">keep</aspectratio>
                            </control>
                            <control type="image">
                                <bordersize>-4</bordersize>
                                <texture colordiffuse="$VAR[ColorGradient]" flipx="$PARAM[flipspinner]" flipy="$PARAM[flipspinner]">$INFO[$PARAM[progress],progress/circle/p,.png]</texture>
                                <animation effect="fade" end="66" condition="true">Conditional</animation>
                                <aspectratio align="center" aligny="center">keep</aspectratio>
                                <include content="Defs_Progress_Colorfade">
                                    <param name="id">$PARAM[progress_id]</param>
                                </include>
                            </control>
                        </include>
                    </control>
                </control>
            </control>
        </definition>
    </include>

    <include name="Furniture_Busy_FloatingText">
        <param name="visible">true</param>
        <param name="percentage_visible">false</param>
        <definition>
            <control type="group">
                <height>180</height>
                <centertop>50%</centertop>
                <left>-50</left>
                <right>-50</right>
                <control type="group">
                    <include content="Dimension_Padding">
                        <param name="pad">10</param>
                    </include>
                    <include content="Dialog_Foreground_Side">
                        <param name="dialog_size">Dimension_DialogNotification</param>
                        <param name="topline">false</param>
                        <param name="subline">false</param>
                        <param name="transparency">true</param>
                    </include>
                </control>
                <control type="group">
                    <left>70</left>
                    <right>135</right>
                    <height>80</height>
                    <centertop>50%</centertop>
                    <control type="group">
                        <top>17</top>
                        <height>20</height>
                        <control type="label">
                            <font>font_main_bold</font>
                            <textcolor>dialog_fg_90</textcolor>
                            <label>$PARAM[mainlabel]</label>
                            <height>80</height>
                            <centertop>50%</centertop>
                        </control>
                    </control>
                    <control type="group">
                        <bottom>17</bottom>
                        <height>20</height>
                        <control type="grouplist">
                            <orientation>horizontal</orientation>
                            <height>80</height>
                            <centertop>50%</centertop>

                            <control type="label">
                                <width max="340">auto</width>
                                <font>font_tiny</font>
                                <textcolor>dialog_fg_70</textcolor>
                                <label>$PARAM[minilabel]</label>
                            </control>

                            <control type="label">
                                <font>font_tiny</font>
                                <textcolor>dialog_fg_70</textcolor>
                                <label>$PARAM[percentage_label]</label>
                                <width>auto</width>
                                <visible>$PARAM[percentage_visible]</visible>
                            </control>

                        </control>
                    </control>
                </control>
            </control>
        </definition>
    </include>

    <include name="Furniture_Busy_Base">
        <param name="hasspinner">false</param>
        <param name="hasprogress">false</param>
        <param name="hasicon">true</param>
        <param name="spinspinner">false</param>
        <param name="spinnervisible">true</param>
        <param name="icon" />
        <param name="progress" />
        <param name="progress_id" />
        <definition>

            <include content="Furniture_Busy_Icon">
                <param name="hasspinner">$PARAM[hasspinner]</param>
                <param name="hasprogress">$PARAM[hasprogress]</param>
                <param name="hasicon">$PARAM[hasicon]</param>
                <param name="spinspinner">$PARAM[spinspinner]</param>
                <param name="flipspinner">$PARAM[flipspinner]</param>
                <param name="icon">$PARAM[icon]</param>
                <param name="progress">$PARAM[progress]</param>
                <param name="progress_id">$PARAM[progress_id]</param>
                <param name="spinnervisible">$PARAM[spinnervisible]</param>
                <param name="flipped">true</param>
            </include>

        </definition>
    </include>

    <include name="Furniture_Busy_Reposition">
        <animation effect="slide" start="0" end="notification_reposition" condition="$EXP[Exp_HasActiveDialog]">Conditional</animation>
        <animation type="Conditional" reversible="false" condition="$EXP[Exp_HasActiveDialog]">
            <effect type="fade" start="0" end="100" time="300" delay="400"/>
            <effect type="slide" start="0,-48" end="0" center="auto" tween="back" easing="out" time="400" delay="400"/>
        </animation>
        <animation type="Conditional" reversible="false" condition="!$EXP[Exp_HasActiveDialog]">
            <effect type="fade" start="0" end="100" time="300" delay="400"/>
            <effect type="slide" start="0,-48" end="0" center="auto" tween="back" easing="out" time="400" delay="400"/>
        </animation>
    </include>


    <include name="Furniture_Busy_Main">
        <param name="mainlabel">$LOCALIZE[20186]</param>
        <param name="minilabel">$LOCALIZE[31023]...</param>
        <param name="haslabel">true</param>
        <param name="visible_delay" />
        <param name="visible_condition" />
        <param name="windowopen_delay" />
        <param name="windowopen_condition" />
        <definition>

            <include>Dimension_DialogNotification</include>
            <include condition="$PARAM[haslabel]">Furniture_Busy_Reposition</include>

            <include content="Animation_SlideIn_Dialog">
                <param name="visible_delay">$PARAM[visible_delay]</param>
                <param name="visible_condition">$PARAM[visible_condition]</param>
                <param name="windowopen_delay">$PARAM[windowopen_delay]</param>
                <param name="windowopen_condition">$PARAM[windowopen_condition]</param>
                <param name="posy">-48</param>
            </include>

            <include content="Furniture_Busy_FloatingText" condition="$PARAM[haslabel]">
                <param name="mainlabel">$PARAM[mainlabel]</param>
                <param name="minilabel">$PARAM[minilabel]</param>
                <param name="percentage_label">$PARAM[percentage_label]</param>
                <param name="percentage_visible">$PARAM[percentage_visible]</param>
            </include>
        </definition>
    </include>

    <include name="Furniture_Busy">
        <param name="mainlabel">$LOCALIZE[20186]</param>
        <param name="minilabel">$LOCALIZE[31023]...</param>
        <param name="hasspinner">false</param>
        <param name="hasprogress">false</param>
        <param name="haslabel">true</param>
        <param name="hasicon">true</param>
        <param name="spinspinner">false</param>
        <param name="spinnervisible">true</param>
        <param name="visible">true</param>
        <definition>
            <control type="group">
                <visible>$PARAM[visible]</visible>

                <include content="Furniture_Busy_Main">
                    <param name="mainlabel">$PARAM[mainlabel]</param>
                    <param name="minilabel">$PARAM[minilabel]</param>
                    <param name="haslabel">$PARAM[haslabel]</param>
                    <param name="visible_delay">$PARAM[visible_delay]</param>
                    <param name="visible_condition">$PARAM[visible_condition]</param>
                    <param name="windowopen_delay">$PARAM[windowopen_delay]</param>
                    <param name="windowopen_condition">$PARAM[windowopen_condition]</param>
                    <param name="percentage_label">$PARAM[percentage_label]</param>
                    <param name="percentage_visible">$PARAM[percentage_visible]</param>
                </include>

                <include content="Furniture_Busy_Base">
                    <param name="hasspinner">$PARAM[hasspinner]</param>
                    <param name="hasprogress">$PARAM[hasprogress]</param>
                    <param name="hasicon">$PARAM[hasicon]</param>
                    <param name="spinspinner">$PARAM[spinspinner]</param>
                    <param name="flipspinner">$PARAM[flipspinner]</param>
                    <param name="spinnervisible">$PARAM[spinnervisible]</param>
                    <param name="icon">$PARAM[icon]</param>
                    <param name="progress">$PARAM[progress]</param>
                    <param name="progress_id">$PARAM[progress_id]</param>
                </include>
            </control>

        </definition>
    </include>


    <include name="Furniture_Clock">
        <param name="toplabel">$INFO[System.Time]</param>
        <param name="bottomlabel">$INFO[System.Date]</param>
        <param name="textcolor">main_fg_30</param>
        <param name="topfont">font_main_bold</param>
        <param name="bottomfont">font_tiny</param>
        <definition>
            <control type="group">

                <control type="group">
                    <height>80</height>
                    <centertop>50%</centertop>

                    <control type="label" id="$PARAM[id]">
                        <label>$PARAM[toplabel]</label>
                        <font>font_main_bold</font>
                        <textcolor>$PARAM[textcolor]</textcolor>
                        <align>right</align>
                        <height>40</height>
                        <centertop>50%</centertop>
                    </control>
                </control>
            </control>
        </definition>
    </include>

</includes>
